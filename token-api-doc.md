## About Token
* Token is used for order authentication.
* **_The Token is valid for several hours, you should get a new one every hour._**

### Get token（获取token）

* Login in [TOP.ONE](https://top.one),visit the user center page,ask for your appid and appkey.It is recommended to bind a static IP when creating them to improving security.（登录[TOP.ONE](https://top.one)官网，访问用户中心，申请appid和appkey。建议创建时绑定固定IP，提高安全性。)
* Appkey just show once,please keep it well preserved.（appkey只会在申请时显示，请复制并保存好。)
* You can revise it again once appkey lost.（如果丢失appkey，可通过在用户中心修改的方式，重新获取新的appkey。）
* The token API endpoint is: [https://server.top.one](https://server.top.one)（接口地址为： [https://server.top.one](https://server.top.one)）（大陆开发者可用： [https://newserver.topone.run](https://newserver.topone.run)）
* The effective time of token is 2 hours.（token有效时长是2小时，请定时获取新token进行下单请求。)
* Interface frequency limit is 1 minute 1 translation.（该接口频率限制为1分钟1次。请勿频繁请求，否则将被屏蔽一小时。）

* GET /api/apiToken
* Parameters:

	| Name | Type | Description |
	| ---- |:----| :-----|
	appid | STRING | your appid
	time | TIME STAMP | time stamp
	random | INT | a random number between 100000 and 999999
	sig | STRING | sign by params and appkey
	
	* The sig is generated by sha256 encryption of the parameters(appkey,random,time).	Example(PHP):
	
	``` php
		$sig = hash('sha256', "appkey=fce13bd9bfffffffff2ffffffffff&random=200022&time=1409309229",false);
	``` 

* Response:

	``` json
	{
	    "status": 200,
	    "error_code": 0,
	    "data": {
	        "apitoken": "topapi:3V1YhD5ulgEx3s6vUWscAyHVF2q5sm6R8tOsjvde1aVK5MQ81HsO0xbVa8011zE35TkaARvUv6"
	    }
	}
	```
	
* Error Code:

	| Error Code | Description |
	| ---- |:----|
	T0001 | The appid is not exists.查无此appid,请先申请或联系客服人员
	T0002 | Wrong random.请提交合法的随机数
	T0003 | Exceed the time limit.请求已过期失效
	T0004 | Time is wrong.请求时间戳不正确
	T0005 | Sig is wrong.sig 不正确
	T0006 | IP is not conforming to the agreement.您当前的IP不符合请求

### Get server time（获取服务端系统时间）

* GET /api/time
* Parameters:
	* none
* Response:

	``` json
	{
	    "status": 200,
	    "error_code": 0,
	    "data": {
	        "time": 1529400060
	    }
	}
	```


